<div id="{{watchlistItem.gameId}}" class="card-block">

  <div class="clr-row gc-watchlist-content-wrapper">
    <div class="clr-col-lg-3 clr-col-12 gc-watchlist-image-wrapper"
      [ngClass]="{ 'gc-highlight-success': (watchlistItem.stores[0].price.simple - watchlistItem.watchPrice) <= 0, 'gc-highlight-danger': (watchlistItem.stores[0].price.simple - watchlistItem.watchPrice) > 0 }">

      <app-img-box [url]="watchlistItem.imgUrl"></app-img-box>

      <app-discount-box *ngIf="(watchlistItem.stores[0].price.simple - watchlistItem.watchPrice) <= 0"
        [priceSymbol]="watchlistItem.stores[0].price.symbol" [oldPrice]="watchlistItem.watchPrice"
        [newPrice]="watchlistItem.stores[0].price.simple"></app-discount-box>

    </div>

    <div class="clr-col-lg-9 clr-col-12">

      <div class="gc-watchlist-game-wrapper flex flex-column justify-content-evenly">

        <!-- Row 1 -->
        <!-- justify-content-between align-items-center my-lg-0 my-3 -->
        <div class="clr-row my-lg-0 my-3">
          <div class="clr-col-12">
            <div class="flex flex-row">
              <span class="label gc-region-label" title="Region: {{watchlistItem.regionId.toUpperCase()}}">{{watchlistItem.regionId.toUpperCase()}}</span>
              <a href="#" routerLink="/game/{{watchlistItem.gameId}}" class="text-ellipsis pr-2">
                <h5 title="{{watchlistItem.name}}" class="text-ellipsis">
                  {{watchlistItem.name}}
                </h5>
              </a>
              <span *ngIf="watchlistItem.bundle || watchlistItem.package" class="label label-blue">Bundle</span>
              <span *ngIf="watchlistItem.dlc" class="label label-orange">DLC</span>
            </div>
          </div>
        </div>
        <!-- End Row 1 -->

        <!-- Row 2 -->
        <div class="clr-row">

          <!-- Watch Price Block -->
          <div class="clr-col-lg-5 clr-col-12 my-lg-0 mb-4">
            <div>WATCH PRICE</div>
            <app-watchlist-form [watchlistItem]="watchlistItem"></app-watchlist-form>
          </div>
          <!-- End Watch Price Block -->

          <!-- Buy Now Block -->
          <div class="clr-col-lg-7 clr-col-12">

            <div class="clr-row align-items-center m-0 p-0">

              <!-- Lowest price text -->
              <div class="clr-col-lg-7 p-0">
                <div class="text-lg-right mr-lg-3 mr-0">
                  <div>CURRENT LOWEST</div>
                  <div class="gc-text text-lg-right">
                    <span class="gc-text-difference">
                      <span *ngIf="(watchlistItem.stores[0].price.simple - watchlistItem.watchPrice) > 0"
                        class="gc-label-danger pl-lg-2 pl-0 pr-2">
                        <fa-icon [icon]="faAngleUp"></fa-icon>
                        <span class="pl-1">{{watchlistItem.stores[0].price.symbol}}{{watchlistItem.difference}}</span>
                      </span>
                      <span *ngIf="(watchlistItem.stores[0].price.simple - watchlistItem.watchPrice) <= 0"
                        class="gc-label-success pl-lg-2 pl-0 pr-2">
                        <fa-icon [icon]="faAngleDown"></fa-icon>
                        <span class="pl-1">-{{watchlistItem.stores[0].price.symbol}}{{watchlistItem.difference}}</span>
                      </span>
                    </span>
                    <span>{{watchlistItem.stores[0].price.value}}</span>
                  </div>
                </div>
              </div>
              <!-- End Lowest price text -->

              <!-- Buy Now Button -->

              <div class="clr-col-lg-5 text-right p-0 my-lg-0 my-3" title="{{watchlistItem.stores[0].store.name}}">
                <a href="{{apiEndpoint}}{{watchlistItem.stores[0].price.link}}" target="_blank">
                <button class="btn btn-icon btn-success gc-watchlist-buy" title="Buy Now">
                  <div class="px-2">
                    <clr-icon shape="shopping-cart" class="is-solid"></clr-icon>
                    &nbsp;Buy Now
                  </div>
                  <div class="gc-watchlist-buy-store text-ellipsis px-2">
                    {{watchlistItem.stores[0].store.name}}
                  </div>
                </button>
                </a>
              </div>
              <!-- End Buy Now Button -->

            </div>

          </div>
          <!-- End Buy Now Block -->

        </div>
        <!-- End Row 2 -->

      </div>
    </div>

  </div>

</div>